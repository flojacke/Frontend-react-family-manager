(this["webpackJsonpfamily-manager"]=this["webpackJsonpfamily-manager"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(32),c=n.n(r),i=(n(38),n(39),n(20)),l=n(2),o=n(8),d=n(9),j=n(12),h=n(11),b=n(0),u=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)("footer",{className:"footer",children:Object(b.jsx)("span",{className:"text-muted",children:"All Rights Reserved 2021 @Frey"})})})}}]),n}(a.Component),m=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)("header",{children:Object(b.jsx)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark",children:Object(b.jsx)("div",{children:Object(b.jsx)("a",{href:"https://localhost:3000",className:"navbar-brand",children:"MI6 Management App"})})})})})}}]),n}(a.Component),O=n(10),p=n(15),f=n.n(p),x="http://localhost:8080/api/v1",v=new(function(){function e(){Object(o.a)(this,e)}return Object(d.a)(e,[{key:"getPersonList",value:function(){return f.a.get(x+"/personlist")}},{key:"getPersonById",value:function(e){return f.a.get(x+"/person/"+e)}},{key:"updatePerson",value:function(e,t){return f.a.put(x+"/updatePerson/"+t,e)}},{key:"deletePerson",value:function(e){return f.a.delete(x+"/deletePerson/"+e)}}]),e}()),N=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={personslist:[],searchTerm:""},a.editPerson=a.editPerson.bind(Object(O.a)(a)),a.deletePerson=a.deletePerson.bind(Object(O.a)(a)),a}return Object(d.a)(n,[{key:"editPerson",value:function(e){console.log(this.props),this.props.history.push("/update-person/".concat(e))}},{key:"deletePerson",value:function(e){var t=this;v.deletePerson(e).then((function(n){t.setState({personslist:t.state.personslist.filter((function(t){return t.id!==e}))})}))}},{key:"componentDidMount",value:function(){var e=this;v.getPersonList().then((function(t){e.setState({personslist:t.data})}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{className:"text-center",children:"James Bond List"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"text",placeholder:"Search...",onChange:function(t){e.setState({searchTerm:t.target.value})}})}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("table",{className:"table table-striped table-bordered",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"007 First Name"}),Object(b.jsx)("th",{children:"007 Last Name"}),Object(b.jsx)("th",{children:"007 Email"}),Object(b.jsx)("th",{children:"Actions"})]})}),Object(b.jsx)("tbody",{children:this.state.personslist.filter((function(t){return""==e.state.searchTerm||t.lastName.toLowerCase().includes(e.state.searchTerm.toLowerCase())?t:void 0})).map((function(t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.firstName}),Object(b.jsx)("td",{children:t.lastName}),Object(b.jsx)("td",{children:t.email}),Object(b.jsxs)("td",{children:[Object(b.jsx)("button",{onClick:function(){return e.editPerson(t.id)},className:"btn btn-primary",children:"Update"}),Object(b.jsx)("button",{style:{marginLeft:"10px"},onClick:function(){return e.deletePerson(t.id)},className:"btn btn-danger",children:"Delete"})]})]},t.id)}))})]})})]})}}]),n}(a.Component),g=Object(l.f)(N),y=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).updatePerson=function(e){e.preventDefault();var t={firstName:a.state.firstName,lastName:a.state.lastName,email:a.state.email};console.log("person => "+JSON.stringify(t)),console.log("id => "+JSON.stringify(a.state.id)),v.updatePerson(t,a.state.id).then((function(e){a.props.history.push("/personlist")}))},a.changeFirstNameHandler=function(e){a.setState({firstName:e.target.value})},a.changeLastNameHandler=function(e){a.setState({lastName:e.target.value})},a.changeEmailHandler=function(e){a.setState({email:e.target.value})},a.state={id:a.props.match.params.id,firstName:"",lastName:"",email:""},a.changeFirstNameHandler=a.changeFirstNameHandler.bind(Object(O.a)(a)),a.changeLastNameHandler=a.changeLastNameHandler.bind(Object(O.a)(a)),a.updatePerson=a.updatePerson.bind(Object(O.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;v.getPersonById(this.state.id).then((function(t){var n=t.data;e.setState({firstName:n.firstName,lastName:n.lastName,email:n.email})}))}},{key:"cancel",value:function(){this.props.history.push("/personlist")}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"card col-md-6 offset-md-3 offset-md-3",children:[Object(b.jsx)("h3",{className:"text-center",children:"Update Person"}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:" First Name: "}),Object(b.jsx)("input",{placeholder:"First Name",name:"firstName",className:"form-control",value:this.state.firstName,onChange:this.changeFirstNameHandler})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:" Last Name: "}),Object(b.jsx)("input",{placeholder:"Last Name",name:"lastName",className:"form-control",value:this.state.lastName,onChange:this.changeLastNameHandler})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:" Email : "}),Object(b.jsx)("input",{placeholder:"Email Address",name:"email",className:"form-control",value:this.state.email,onChange:this.changeEmailHandler})]}),Object(b.jsx)("button",{className:"btn btn-success",onClick:this.updatePerson,children:"Save"}),Object(b.jsx)("button",{className:"btn btn-danger",onClick:this.cancel.bind(this),style:{marginLeft:"10px"},children:"Cancel"})]})})]})})})]})}}]),n}(a.Component);var P=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(i.a,{children:[Object(b.jsx)(m,{}),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/",exact:!0,component:g}),Object(b.jsx)(l.a,{path:"/personlist",component:g,children:Object(b.jsx)(g,{})}),Object(b.jsx)(l.a,{path:"/update-person/:id",component:y})]})}),Object(b.jsx)(u,{})]})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};n(64);c.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(P,{})}),document.getElementById("root")),k()}},[[65,1,2]]]);
//# sourceMappingURL=main.959ef404.chunk.js.map